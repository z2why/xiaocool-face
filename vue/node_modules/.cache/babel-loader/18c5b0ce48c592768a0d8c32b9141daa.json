{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport moment from \"moment\";\nimport { Editor, Toolbar } from '@wangeditor/editor-for-vue';\nexport default {\n  name: \"ScheduledMeeting\",\n  components: {\n    Editor,\n    Toolbar\n  },\n\n  data() {\n    return {\n      // serverIp: serverIp,\n      pickerOptions1: {\n        disabledDate(time) {\n          return time.getTime() < Date.now() - 8.64e7;\n        }\n\n      },\n      rules: {\n        name: [{\n          required: true,\n          message: '请输入会议名称',\n          trigger: 'blur'\n        }, {\n          min: 3,\n          max: 20,\n          message: '长度在 3 到 20 个字符',\n          trigger: 'blur'\n        }],\n        time: [{\n          required: true,\n          message: '请选择日期',\n          trigger: 'blur'\n        }]\n      },\n      dialogVisible: false,\n      editor: null,\n      toolbarConfig: {},\n      editorConfig: {\n        placeholder: ''\n      },\n      mode: 'default',\n      user: localStorage.getItem(\"user\") ? JSON.parse(localStorage.getItem(\"user\")) : {},\n      form: {}\n    };\n  },\n\n  methods: {\n    async getUser() {\n      return (await this.request.get(\"/user/username/\" + this.user.username)).data;\n    },\n\n    onCreated(editor) {\n      this.editor = Object.seal(editor); // 一定要用 Object.seal() ，否则会报错\n    },\n\n    save() {\n      console.log(this.form);\n\n      if (this.form.name !== undefined && this.form.status !== undefined && this.form.value1 !== undefined) {\n        const random = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];\n        var code = '';\n        const rdm = [5, 6];\n\n        for (let i = 0; i < rdm[Math.floor(Math.random() * 2)]; i++) {\n          let index = Math.floor(Math.random() * 9);\n          code += random[index];\n        }\n\n        this.form.code = code;\n        this.form.startDate = moment(this.form.value1[0]).format(\"YYYY-MM-DD HH:mm:ss\");\n        this.form.endDate = moment(this.form.value1[1]).format(\"YYYY-MM-DD HH:mm:ss\");\n        this.form.createTime = moment().startOf('millisecond').format(\"YYYY-MM-DD HH:mm:ss\");\n        console.log(this.form.code);\n        this.form.createUser = this.user.id;\n        this.request.post(\"/meeting/MyMeeting\", this.form).then(res => {\n          if (res.code === '200') {\n            this.$message.success(\"保存成功\");\n          } else {\n            this.$message.error(\"保存失败\");\n          }\n        });\n      } else {\n        this.$message.error(\"请输入信息！\");\n      }\n    }\n\n  },\n\n  mounted() {// 模拟 ajax 请求，异步渲染编辑器\n    // setTimeout(() => {\n    //   this.form.description = '<p>'+this.meeting.description+'</p>'\n    // }, 1500)\n  },\n\n  beforeDestroy() {\n    const editor = this.editor;\n    if (editor == null) return;\n    editor.destroy(); // 组件销毁时，及时销毁编辑器\n  }\n\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2JA;AACA;AACA;EACAA,wBADA;EAEAC;IAAAC;IAAAC;EAAA,CAFA;;EAGAC;IAEA;MACA;MACAC;QACAC;UACA;QACA;;MAHA,CAFA;MAMAC;QAEAP,OACA;UAAAQ;UAAAC;UAAAC;QAAA,CADA,EAEA;UAAAC;UAAAC;UAAAH;UAAAC;QAAA,CAFA,CAFA;QAOAG,OACA;UAAAL;UAAAC;UAAAC;QAAA,CADA;MAPA,CANA;MAiBAI,oBAjBA;MAkBAC,YAlBA;MAmBAC,iBAnBA;MAoBAC;QAAAC;MAAA,CApBA;MAqBAC,eArBA;MAsBAC,kFAtBA;MAuBAC;IAvBA;EA0BA,CA/BA;;EAiCAC;IACA;MACA;IACA,CAHA;;IAIAC;MACA,kCADA,CACA;IACA,CANA;;IAQAC;MACAC;;MACA;QACA;QACA;QACA;;QACA;UACA;UACAC;QACA;;QACA;QACA;QACA;QACA;QACAD;QACA;QACA;UACA;YACA;UACA,CAFA,MAEA;YACA;UACA;QACA,CANA;MAMA,CApBA,MAqBA;QACA;MACA;IACA;;EAlCA,CAjCA;;EAsEAE,WACA;IACA;IACA;IACA;EACA,CA3EA;;EA4EAC;IACA;IACA;IACAb,iBAHA,CAGA;EACA;;AAhFA","names":["name","components","Editor","Toolbar","data","pickerOptions1","disabledDate","rules","required","message","trigger","min","max","time","dialogVisible","editor","toolbarConfig","editorConfig","placeholder","mode","user","form","methods","onCreated","save","console","code","mounted","beforeDestroy"],"sourceRoot":"src/views","sources":["ScheduledMeeting.vue"],"sourcesContent":["<template>\r\n<!--申请会议-->\r\n  <div style=\"user-select: none;\" >\r\n    <div id=\"biaotou\">\r\n      <div style=\"height: 60px;user-select: none\">\r\n        <h1>预约会议</h1>\r\n      </div>\r\n      <el-divider></el-divider>\r\n    </div>\r\n\r\n    <el-card style=\"width: 1200px;\" >\r\n      <h1 align=\"center\">申请成功！您的会议号为:<span style=\"font-size: xx-large;user-select: text\">123{{form.name}}</span></h1>\r\n\r\n      <!--form类型的会议详情-->\r\n      <div class=\"detail\">\r\n        <el-form :model=\"form\" label-width=\"130px\"   id=\"selectForm\"  style=\"padding-right: 15px;\"  >\r\n          <el-form-item label=\"会议主题 :\" prop=\"name\" >\r\n            <el-input readonly v-model=\"form.name\"  style=\"width: 55%;font-size: 22px\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"会议时间 :\" >\r\n            <el-col :span=\"5\" >\r\n              <el-date-picker\r\n                  readonly\r\n                  v-model=\"form.value1[0]\"\r\n                  type=\"datetime\"\r\n              >\r\n              </el-date-picker>\r\n            </el-col>\r\n            <el-col class=\"line\" :span=\"5\" style=\"position: relative;left:12%\" >  ——> </el-col>\r\n            <el-col :span=\"5\">\r\n              <el-date-picker\r\n                  readonly\r\n                  v-model=\"form.value1[1]\"\r\n                  type=\"datetime\"\r\n              >\r\n              </el-date-picker>\r\n            </el-col>\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"会议号 :\" prop=\"code\" >\r\n            <el-input v-model=\"form.code\" style=\"width: 55%\"> </el-input>\r\n          </el-form-item>\r\n\r\n\r\n          <el-form-item label=\"会议情况 :\" prop=\"status\" >\r\n            <el-tag size=\"small\"  v-if=\"form.status === 0\" style=\"left: 14px;height: 36px;font-size:large;position: relative\" >线下</el-tag>\r\n            <el-tag size=\"small\" v-else-if=\"form.status === 1\" style=\"left: 14px;height: 36px;font-size:large;position: relative\" >线上</el-tag>\r\n          </el-form-item>\r\n\r\n\r\n          <el-form-item label=\"审核情况 :\" prop=\"show\" >\r\n            <el-tag size=\"small\"  style=\"left: 14px;height: 36px;font-size:large;position: relative\" type=\"info\" v-if=\"form.show === 0\" >未审核</el-tag>\r\n            <el-tag size=\"small\"   style=\"left: 14px;height: 36px;font-size:large;position: relative\" v-else-if=\"form.show === 1\" >已通过</el-tag>\r\n            <el-tag size=\"small\" style=\"left: 14px;height: 36px;font-size:large;position: relative\" effect=\"dark\" type=\"info\" v-else-if=\"form.show === 2\" >未通过</el-tag>\r\n          </el-form-item>\r\n\r\n\r\n\r\n          <el-form-item label=\"会议地址 :\" prop=\"address\">\r\n            <el-input v-model=\"form.address\" style=\"width: 75%;font-size: 22px\"></el-input>\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"创建时间 :\" prop=\"code\">\r\n            <el-input v-model=\"form.createTime\" style=\"width: 45%\"> </el-input>\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"会议简介 :\" prop=\"address\" >\r\n            <div>\r\n              <div v-html=\"form.description\" style=\"height:auto;left: 2%;position: relative;font-size: 22px \"></div>\r\n            </div>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n\r\n    </el-card>\r\n\r\n    <el-card style=\"width: 1200px;\" >\r\n      <div style=\"padding: 15px;\">\r\n      <el-form :model=\"form\" label-width=\"140px\"   style=\"padding-right: 15px\" :rules=\"rules\">\r\n        <el-form-item label=\"会议主题 :\" prop=\"name\">\r\n          <el-input v-model=\"form.name\"  style=\"width: 50%;font-size: large\"></el-input>\r\n        </el-form-item>\r\n\r\n\r\n        <el-form-item label=\"会议时间  :\" required >\r\n          <el-date-picker\r\n              required\r\n              :picker-options=\"pickerOptions1\"\r\n              editable=\"false\"\r\n              v-model=\"form.value1\"\r\n              value-format=\"yyyy-MM-dd hh:mm:ss\"\r\n              type=\"datetimerange\"\r\n              start-placeholder=\"开始日期\"\r\n              end-placeholder=\"结束日期\"\r\n              >\r\n          </el-date-picker>\r\n\r\n<!--          <el-col :span=\"5\" >-->\r\n<!--          <el-date-picker-->\r\n<!--              validate-event=\"true\"-->\r\n<!--              v-model=\"form.startDate\"-->\r\n<!--              type=\"datetime\"-->\r\n<!--              popper-class=\"t1\"-->\r\n<!--              placeholder=\"选择会议开始时间\">-->\r\n<!--          </el-date-picker>-->\r\n<!--          </el-col>-->\r\n<!--          <el-col class=\"line\" :span=\"2\" style=\"position: relative;left: 3%\" >  —— </el-col>-->\r\n<!--          <el-col :span=\"5\">-->\r\n<!--            <el-date-picker-->\r\n<!--                v-model=\"form.endDate\"-->\r\n<!--                type=\"datetime\"-->\r\n<!--                placeholder=\"选择会议结束时间\">-->\r\n<!--            </el-date-picker>-->\r\n<!--          </el-col>-->\r\n        </el-form-item>\r\n\r\n\r\n        <el-form-item label=\"会议类型 :\"  label-width=\"140px\"   prop=\"status\" required >\r\n          <el-radio-group v-model=\"form.status\" style=\"padding-right: 15px\" >\r\n            <el-radio :label=\"1\" >线上</el-radio>\r\n            <el-radio :label=\"0\">线下</el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n\r\n\r\n        <el-form-item label=\"会议地址 :\" prop=\"address\">\r\n          <el-input v-model=\"form.address\" style=\"width: 75%;font-size: large\"></el-input>\r\n        </el-form-item>\r\n\r\n\r\n        <el-form-item label=\"会议简介 : \" >\r\n          <div style=\"border: 1px solid #ccc;\">\r\n            <Editor\r\n                style=\"height: 230px; overflow-y: hidden;\"\r\n                v-model=\"form.description\"\r\n                :defaultConfig=\"editorConfig\"\r\n                :mode=\"mode\"\r\n                @onCreated=\"onCreated\"\r\n            />\r\n          </div>\r\n        </el-form-item>\r\n      <div STYLE=\" padding-left: 35%\">\r\n        <el-form-item >\r\n          <el-button @click=\"$router.push('/AddMeeting')\">返回</el-button>\r\n          <el-button type=\"primary\" @click=\"save\" style=\"position: relative;left: 30px\">预定会议</el-button>\r\n        </el-form-item>\r\n      </div>\r\n      </el-form >\r\n    </div>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport moment from \"moment\"\r\nimport { Editor, Toolbar } from '@wangeditor/editor-for-vue'\r\nexport default {\r\n  name: \"ScheduledMeeting\",\r\n  components: { Editor, Toolbar },\r\n  data() {\r\n\r\n    return {\r\n      // serverIp: serverIp,\r\n      pickerOptions1: {\r\n        disabledDate(time) {\r\n          return time.getTime() < Date.now() - 8.64e7;\r\n        },},\r\n      rules:{\r\n\r\n        name: [\r\n          { required: true, message: '请输入会议名称', trigger: 'blur' },\r\n          { min: 3, max: 20, message: '长度在 3 到 20 个字符', trigger: 'blur' }\r\n\r\n        ],\r\n        time: [\r\n          { required: true, message: '请选择日期', trigger: 'blur' }\r\n        ],\r\n      },\r\n      dialogVisible:false,\r\n      editor: null,\r\n      toolbarConfig: { },\r\n      editorConfig: { placeholder: '' },\r\n      mode: 'default',\r\n      user: localStorage.getItem(\"user\") ? JSON.parse(localStorage.getItem(\"user\")) : {},\r\n      form: {},\r\n    }\r\n\r\n  },\r\n\r\n  methods: {\r\n    async getUser() {\r\n      return (await this.request.get(\"/user/username/\" + this.user.username)).data\r\n    },\r\n    onCreated(editor) {\r\n      this.editor = Object.seal(editor) // 一定要用 Object.seal() ，否则会报错\r\n    },\r\n\r\n    save() {\r\n      console.log(this.form)\r\n      if(this.form.name!==undefined&&this.form.status!==undefined&&this.form.value1!==undefined){\r\n      const random = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];\r\n      var code = ''\r\n      const rdm=[5,6]\r\n      for (let i = 0; i <rdm[Math.floor(Math.random()*2)]; i++) {\r\n        let index = Math.floor(Math.random() * 9);\r\n        code += random[index];\r\n      }\r\n      this.form.code = code;\r\n      this.form.startDate=moment(this.form.value1[0]).format(\"YYYY-MM-DD HH:mm:ss\")\r\n      this.form.endDate=moment(this.form.value1[1]).format(\"YYYY-MM-DD HH:mm:ss\")\r\n      this.form.createTime=moment().startOf('millisecond').format(\"YYYY-MM-DD HH:mm:ss\")\r\n      console.log(this.form.code)\r\n      this.form.createUser=this.user.id\r\n      this.request.post(\"/meeting/MyMeeting\", this.form).then(res => {\r\n        if (res.code === '200') {\r\n          this.$message.success(\"保存成功\")\r\n        } else {\r\n          this.$message.error(\"保存失败\")\r\n        }\r\n      })}\r\n      else{\r\n        this.$message.error(\"请输入信息！\")\r\n      }\r\n    },\r\n\r\n  },\r\n  mounted() {\r\n    // 模拟 ajax 请求，异步渲染编辑器\r\n    // setTimeout(() => {\r\n    //   this.form.description = '<p>'+this.meeting.description+'</p>'\r\n    // }, 1500)\r\n  },\r\n  beforeDestroy() {\r\n    const editor = this.editor\r\n    if (editor == null) return\r\n    editor.destroy() // 组件销毁时，及时销毁编辑器\r\n  },\r\n}\r\n</script>\r\n<style>\r\n.el-popper[x-placement^=bottom] .popper__arrow{\r\n  display: none;\r\n}\r\n.thet{\r\n  background-color: black;\r\n  margin-top: 100px;\r\n}\r\n</style>\r\n<style scoped>\r\n\r\nh1 {\r\n  font-weight: 400;\r\n  height: 60px;\r\n  line-height: 60px;\r\n  font-size: 26px;\r\n}\r\n::v-deep .el-form-item__label{\r\n  font-size: large;\r\n  padding: 4px 24px 15px 4px;\r\n}\r\n\r\n\r\n::v-deep .el-radio__label{\r\n  font-size: 16px;\r\n}\r\n\r\n::v-deep .el-form-item__content{\r\n  line-height: 46px;\r\n}\r\n.avatar-uploader {\r\n  text-align: center;\r\n  padding-bottom: 10px;\r\n}\r\n.avatar-uploader .el-upload {\r\n  border: 1px dashed #d9d9d9;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n.avatar-uploader .el-upload:hover {\r\n  border-color: #409EFF;\r\n}\r\n.avatar-uploader-icon {\r\n  font-size: 28px;\r\n  color: #8c939d;\r\n  width: 138px;\r\n  height: 138px;\r\n  line-height: 138px;\r\n  text-align: center;\r\n}\r\n.avatar {\r\n  width: 138px;\r\n  height: 138px;\r\n  display: block;\r\n}\r\n/deep/ .el-form-item__error {\r\n  color: #E10000AD;\r\n  font-size: 14px;\r\n  top: 80%;\r\n}\r\n::v-deep .el-picker-panel__body{\r\n  margin-top: 100px;\r\n}\r\n\r\n.detail{\r\n  padding: 60px;\r\n\r\n}\r\n#selectForm >>> .el-form-item__label{\r\n  font-size: 22px;\r\n}\r\n\r\n\r\n::v-deep .detail .el-input__inner {\r\n  border: 1px solid #ffffff;\r\n  font-size: large;\r\n  font-family: 微软雅黑;\r\n  width: 245px;\r\n}\r\n::v-deep .el-input__inner:hover {\r\n  border-color: #ffffff;\r\n}\r\n::v-deep  .el-form-item__label {\r\n  font-size: large;\r\n}\r\n\r\n::v-deep .el-dialog__title {\r\n  line-height: 41px;\r\n  font-size: 20px;\r\n  padding-left: 10px;\r\n  color: #000000;\r\n}\r\n\r\n\r\n</style>\r\n\r\n\r\n<style src=\"@wangeditor/editor/dist/css/style.css\"></style>"]},"metadata":{},"sourceType":"module"}