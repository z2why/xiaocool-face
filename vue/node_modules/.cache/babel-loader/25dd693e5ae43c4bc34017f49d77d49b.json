{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: \"tabUnsignMeeting\",\n  data: function data() {\n    return {\n      user: {},\n      tableData: [],\n      pageNum: 1,\n      pageSize: 8,\n      dialogTableVisible: false\n    };\n  },\n  created: function created() {\n    //请求分页查询数据\n    this.user = JSON.parse(localStorage.getItem(\"user\"));\n    this.load();\n  },\n  methods: {\n    load: function load() {\n      var _this = this;\n\n      this.request.get(\"/AboutMeeting/findMeeting\", {\n        params: {\n          pageNum: this.pageNum,\n          pageSize: this.pageSize,\n          code: this.code,\n          userId: this.user.id,\n          participateStatus: 1,\n          myMeeting: 1\n        }\n      }).then(function (res) {\n        _this.tableData = res;\n      });\n    },\n    buqian: function buqian(row) {\n      var _this2 = this;\n\n      this.$confirm('将于现在提交补签申请, 是否确带继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(function () {\n        var from1 = {\n          id: row.uid,\n          supplementarySign: 1\n        }; //修改\n\n        _this2.request.post('/AboutMeeting', from1).then(function (res) {\n          if (res.code === '200') {\n            _this2.$message.success(\"申请成功,等待会议创建者\");\n\n            _this2.load();\n          } else {\n            _this2.$message.error(\"申请失败\");\n          }\n        });\n      }).catch(function () {\n        _this2.$message({\n          type: 'info',\n          message: '已取消提交'\n        });\n      });\n    },\n    handleSizeChange: function handleSizeChange(pageSize) {\n      this.pageSize = pageSize;\n      this.load();\n    },\n    handleCurrentChange: function handleCurrentChange(pageNum) {\n      this.pageNum = pageNum;\n      this.load();\n    },\n    MeetingDetail: function MeetingDetail(row) {\n      this.form = row;\n      this.dialogTableVisible = true;\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmHA;EACAA,wBADA;EAEAC,IAFA,kBAEA;IACA;MACAC,QADA;MAEAC,aAFA;MAGAC,UAHA;MAIAC,WAJA;MAKAC;IALA;EAQA,CAXA;EAYAC,OAZA,qBAYA;IACA;IACA;IACA;EACA,CAhBA;EAiBAC;IACAC,IADA,kBACA;MAAA;;MACA;QACAC;UACAN,qBADA;UAEAC,uBAFA;UAGAM,eAHA;UAIAC,oBAJA;UAKAC,oBALA;UAMAC;QANA;MADA,GAUAC,IAVA,CAUA;QACA;MAEA,CAbA;IAeA,CAjBA;IAkBAC,MAlBA,kBAkBAC,GAlBA,EAkBA;MAAA;;MACA;QACAC,uBADA;QAEAC,sBAFA;QAGAC;MAHA,GAIAL,IAJA,CAIA;QACA;UACAM,WADA;UAEAC;QAFA,EADA,CAKA;;QACA,4CACAP,IADA,CACA;UACA;YACA;;YACA;UACA,CAHA,MAGA;YACA;UACA;QACA,CARA;MAYA,CAtBA,EAsBAQ,KAtBA,CAsBA;QACA;UACAH,YADA;UAEAI;QAFA;MAIA,CA3BA;IA2BA,CA9CA;IA+CAC,gBA/CA,4BA+CApB,QA/CA,EA+CA;MACA;MACA;IACA,CAlDA;IAmDAqB,mBAnDA,+BAmDAtB,OAnDA,EAmDA;MACA;MACA;IACA,CAtDA;IAuDAuB,aAvDA,yBAuDAV,GAvDA,EAuDA;MACA;MACA;IACA;EA1DA;AAjBA","names":["name","data","user","tableData","pageNum","pageSize","dialogTableVisible","created","methods","load","params","code","userId","participateStatus","myMeeting","then","buqian","row","confirmButtonText","cancelButtonText","type","id","supplementarySign","catch","message","handleSizeChange","handleCurrentChange","MeetingDetail"],"sourceRoot":"src/views","sources":["tabUnsignMeeting.vue"],"sourcesContent":["<template>\r\n\r\n  <div CLASS=\"unjoin\">\r\n\r\n  <el-table :data=\"tableData\"   stripe style=\"width: 100%\">\r\n    <el-table-column fixed prop=\"startDate\" label=\"开始时间\"  sortable>\r\n    </el-table-column>\r\n    <el-table-column prop=\"name\" label=\"会议主题\"> </el-table-column>\r\n    <el-table-column prop=\"code\" label=\"会议号\" width=\"180\"> </el-table-column>\r\n    <el-table-column\r\n        prop=\"participateStatus\" label=\"签到情况\" width=\"180\" align=\"center\">\r\n      <template slot-scope=\"scope\">\r\n        <el-tag size=\"small\"  v-if=\"scope.row.participateStatus === 0\"  type=\"info \" >未签到</el-tag>\r\n        <el-tag size=\"small\" v-else-if=\"scope.row.participateStatus === 1\"  >已签到</el-tag>\r\n        <el-tag size=\"small\" v-else-if=\"scope.row.participateStatus === 2\" type=\"warning\" effect=\"dark\">迟到</el-tag>\r\n        <el-tag size=\"small\" v-else-if=\"scope.row.participateStatus === 3\" type=\"warning\" effect=\"dark\">早退</el-tag>\r\n      </template>\r\n    </el-table-column>\r\n\r\n    <el-table-column\r\n        prop=\"stage\" label=\"会议状态\" width=\"230\" align=\"center\">\r\n      <template slot-scope=\"scope\">\r\n        <el-tag size=\"small\"  v-if=\"scope.row.stage === 0\"  >未开启</el-tag>\r\n        <el-tag size=\"small\" v-else-if=\"scope.row.stage === 1\"   >进行中</el-tag>\r\n        <el-tag size=\"small\" v-else-if=\"scope.row.stage === 2\" type=\"info\" effect=\"dark\">已结束</el-tag>\r\n        <el-tag size=\"small\" v-else-if=\"scope.row.stage === 3\" type=\"warning\" effect=\"dark\">暂缓中</el-tag>\r\n      </template>\r\n    </el-table-column>\r\n\r\n    <el-table-column prop=\"city\" align=\"center\"  label=\"操作\">\r\n      <template slot-scope=\"scope\">\r\n      <el-button type=\"text\" @click=\"buqian(scope.row)\">补签申请</el-button>\r\n      <el-divider direction=\"vertical\"></el-divider>\r\n      <el-button type=\"text\" @click=\"MeetingDetail(scope.row)\">会议详情</el-button>\r\n    </template>\r\n    </el-table-column>\r\n\r\n  </el-table>\r\n\r\n\r\n    <div style=\"margin: 10px 0;position: relative;left: 35%\">\r\n      <el-pagination\r\n          @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\"\r\n          :current-page=\"pageNum\"\r\n          :page-sizes=\"[8]\"\r\n          :page-size=\"pageSize\"\r\n          background\r\n          layout=\"  prev,sizes, pager, next, jumper\"\r\n         >\r\n      </el-pagination>\r\n    </div>\r\n\r\n    <el-dialog title=\"会议详情\"  :visible.sync=\"dialogTableVisible\">\r\n\r\n      <template slot-scope=\"scope\">\r\n\r\n        <!--form类型的会议详情-->\r\n        <div class=\"detail\">\r\n          <el-form :model=\"form\" label-width=\"130px\"   style=\"padding-right: 15px\" >\r\n            <el-form-item label=\"会议主题 :\" prop=\"name\">\r\n              <el-input readonly v-model=\"form.name\"  style=\"width: 55%;font-size: large\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"会议时间 :\" >\r\n              <el-col :span=\"5\" >\r\n                <el-date-picker\r\n                    readonly\r\n                    v-model=\"form.startDate\"\r\n                    type=\"datetime\"\r\n                >\r\n                </el-date-picker>\r\n              </el-col>\r\n              <el-col class=\"line\" :span=\"5\" style=\"position: relative;left:12%\" >  ——> </el-col>\r\n              <el-col :span=\"5\">\r\n                <el-date-picker\r\n                    readonly\r\n                    v-model=\"form.endDate\"\r\n                    type=\"datetime\"\r\n                >\r\n                </el-date-picker>\r\n              </el-col>\r\n            </el-form-item>\r\n\r\n            <el-form-item label=\"会议号 :\" prop=\"code\" >\r\n              <el-input v-model=\"form.code\" style=\"width: 55%\"> </el-input>\r\n            </el-form-item>\r\n\r\n            <el-form-item label=\"审核情况 :\" prop=\"show\" >\r\n              <el-tag size=\"small\"  style=\"padding-left: 10px\" v-if=\"form.show === 0\" >未审核</el-tag>\r\n              <el-tag size=\"small\"   style=\"left: 14px;height: 36px;font-size:large;position: relative\" v-else-if=\"form.show === 1\" >已通过</el-tag>\r\n              <el-tag size=\"small\"  v-else-if=\"form.show === 2\" >未通过</el-tag>\r\n            </el-form-item>\r\n\r\n            <el-form-item label=\"会议地址 :\" prop=\"address\">\r\n              <el-input v-model=\"form.address\" style=\"width: 75%\"></el-input>\r\n            </el-form-item>\r\n\r\n            <el-form-item label=\"创建时间 :\" prop=\"code\">\r\n              <el-input v-model=\"form.createTime\" style=\"width: 45%\"> </el-input>\r\n            </el-form-item>\r\n\r\n            <el-form-item label=\"会议简介 :\" prop=\"address\" >\r\n              <div>\r\n                <div v-html=\"form.description\" style=\"left: 2%;position: relative; \"></div>\r\n              </div>\r\n            </el-form-item>\r\n          </el-form>\r\n        </div>\r\n      </template>\r\n    </el-dialog>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"tabUnsignMeeting\",\r\n  data() {\r\n    return {\r\n      user:{},\r\n      tableData: [],\r\n      pageNum: 1,\r\n      pageSize: 8,\r\n      dialogTableVisible:false\r\n\r\n    };\r\n  },\r\n  created() {\r\n    //请求分页查询数据\r\n    this.user=  JSON.parse(localStorage.getItem(\"user\"))\r\n    this.load()\r\n  },\r\n  methods: {\r\n    load() {\r\n      this.request.get(\"/AboutMeeting/findMeeting\", {\r\n        params: {\r\n          pageNum: this.pageNum,\r\n          pageSize: this.pageSize,\r\n          code: this.code,\r\n          userId: this.user.id,\r\n          participateStatus:1,\r\n          myMeeting:1\r\n        }\r\n\r\n      }).then(res => {\r\n            this.tableData = res\r\n\r\n          }\r\n      )\r\n    },\r\n    buqian(row){\r\n      this.$confirm('将于现在提交补签申请, 是否确带继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        const from1 = {\r\n          id: row.uid,\r\n          supplementarySign: 1,\r\n        }\r\n        //修改\r\n        this.request.post('/AboutMeeting', from1)\r\n            .then(res => {\r\n              if (res.code === '200') {\r\n                this.$message.success(\"申请成功,等待会议创建者\")\r\n                this.load()\r\n              } else {\r\n                this.$message.error(\"申请失败\")\r\n              }\r\n            })\r\n\r\n\r\n\r\n      }).catch(() => {\r\n        this.$message({\r\n          type: 'info',\r\n          message: '已取消提交'\r\n        });\r\n      }) },\r\n    handleSizeChange(pageSize) {\r\n      this.pageSize = pageSize\r\n      this.load()\r\n    },\r\n    handleCurrentChange(pageNum) {\r\n      this.pageNum = pageNum\r\n      this.load()\r\n    },\r\n    MeetingDetail(row){\r\n      this.form=row\r\n      this.dialogTableVisible = true\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.el-tag--small {\r\n  height: 33px;\r\n  padding: 4px 9px;\r\n  line-height: 22px;\r\n  font-size: initial;\r\n}\r\n\r\n::v-deep .el-table__fixed {\r\n  height: 100% !important;\r\n\r\n}\r\n::v-deep .detail .el-input__inner {\r\n  border: 1px solid #ffffff;\r\n  font-size: large;\r\n  font-family: 微软雅黑;\r\n  width: 245px;\r\n}\r\n::v-deep .el-input__inner:hover {\r\n  border-color: #ffffff;\r\n}\r\n::v-deep  .el-form-item__label {\r\n  font-size: large;\r\n}\r\n\r\n::v-deep .el-dialog__title {\r\n  line-height: 41px;\r\n  font-size: 20px;\r\n  padding-left: 10px;\r\n  color: #000000;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}