{"ast":null,"code":"import \"core-js/modules/es.function.name.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: \"auditBook\",\n  data: function data() {\n    return {\n      code: '',\n      name: '',\n      createUser: '',\n      form: {},\n      dialogVisible: false,\n      pageNum: 1,\n      total: 0,\n      tableData: [],\n      search: '',\n      pageSize: 8,\n      headerBg: 'headerBg',\n      multipleSelection: [],\n      statusData: {\n        '0': {\n          label: '未审核'\n        },\n        '1': {\n          label: '已通过'\n        },\n        '2': {\n          label: '审核未通过'\n        }\n      }\n    };\n  },\n  created: function created() {\n    //请求分页查询数据\n    this.load();\n  },\n  methods: {\n    load: function load() {\n      var _this = this;\n\n      this.request.get(\"/auditMeeting/page\", {\n        params: {\n          pageNum: this.pageNum,\n          pageSize: this.pageSize,\n          code: this.code,\n          name: this.name,\n          createUser: this.createUser\n        }\n      }).then(function (res) {\n        _this.tableData = res.records;\n        _this.total = res.total;\n      });\n    },\n    handleSelectionChange: function handleSelectionChange(val) {\n      this.multipleSelection = val;\n    },\n    reset: function reset() {\n      this.code = \"\";\n      this.name = \"\";\n      this.createUser = '';\n      this.load();\n    },\n    check: function check(id, show, name) {\n      var _this2 = this;\n\n      this.$confirm('将于现在通过”' + name + '”会议的审核, 是否确带继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(function () {\n        var from1 = {\n          id: id,\n          show: 1\n        }; //修改\n\n        _this2.request.post('/meeting/MyMeeting', from1).then(function (res) {\n          if (res.code === '200') {\n            _this2.$message.success(\"申请成功\");\n\n            _this2.load();\n          } else {\n            _this2.$message.error(\"申请失败\");\n          }\n        });\n      });\n    },\n    checkout: function checkout(id, show, name) {\n      var _this3 = this;\n\n      this.$confirm('将于现在不通过”' + name + '”会议的审核, 是否确带继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(function () {\n        var from2 = {\n          id: id,\n          show: 2\n        }; //修改\n\n        _this3.request.post('/meeting/MyMeeting', from2).then(function (res) {\n          console.log(\"/meeting/MyMeeting/\");\n\n          _this3.$message({\n            showClose: true,\n            message: res.code ? '成功不通过！' : res.msg\n          });\n        });\n      });\n    },\n    handleSizeChange: function handleSizeChange(pageSize) {\n      console.log(pageSize);\n      this.pageSize = pageSize;\n      this.load();\n    },\n    handleCurrentChange: function handleCurrentChange(pageNum) {\n      this.pageNum = pageNum;\n      this.load();\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuJA;EACAA,iBADA;EAEAC,IAFA,kBAEA;IAEA;MACAC,QADA;MAEAF,QAFA;MAGAG,cAHA;MAIAC,QAJA;MAKAC,oBALA;MAMAC,UANA;MAOAC,QAPA;MAQAC,aARA;MASAC,UATA;MAUAC,WAVA;MAWAC,oBAXA;MAaAC,qBAbA;MAeAC;QACA;UACAC;QADA,CADA;QAIA;UACAA;QADA,CAJA;QAOA;UACAA;QADA;MAPA;IAfA;EA6BA,CAjCA;EAkCAC,OAlCA,qBAkCA;IACA;IACA;EACA,CArCA;EAsCAC;IAEAC,IAFA,kBAEA;MAAA;;MACA;QACAC;UACAZ,qBADA;UAEAI,uBAFA;UAGAR,eAHA;UAIAF,eAJA;UAKAG;QALA;MADA,GASAgB,IATA,CASA;QACA;QACA;MAEA,CAbA;IAgBA,CAnBA;IAoBAC,qBApBA,iCAoBAC,GApBA,EAoBA;MAEA;IAEA,CAxBA;IAyBAC,KAzBA,mBAyBA;MACA;MACA;MACA;MACA;IACA,CA9BA;IAgCAC,KAhCA,iBAgCAC,EAhCA,EAgCAC,IAhCA,EAgCAzB,IAhCA,EAgCA;MAAA;;MACA;QACA0B,uBADA;QAEAC,sBAFA;QAGAC;MAHA,GAIAT,IAJA,CAIA;QACA;UACAK,MADA;UAEAC;QAFA,EADA,CAKA;;QACA,iDACAN,IADA,CACA;UACA;YACA;;YACA;UACA,CAHA,MAGA;YACA;UACA;QACA,CARA;MASA,CAnBA;IAoBA,CArDA;IAsDAU,QAtDA,oBAsDAL,EAtDA,EAsDAC,IAtDA,EAsDAzB,IAtDA,EAsDA;MAAA;;MACA;QACA0B,uBADA;QAEAC,sBAFA;QAGAC;MAHA,GAIAT,IAJA,CAIA;QACA;UACAK,MADA;UAEAC;QAFA,EADA,CAKA;;QACA,iDACAN,IADA,CACA;UACAW;;UACA;YACAC,eADA;YAEAC;UAFA;QAIA,CAPA;MAQA,CAlBA;IAmBA,CA1EA;IA2EAC,gBA3EA,4BA2EAvB,QA3EA,EA2EA;MACAoB;MACA;MACA;IACA,CA/EA;IAgFAI,mBAhFA,+BAgFA5B,OAhFA,EAgFA;MACA;MACA;IACA;EAnFA;AAtCA","names":["name","data","code","createUser","form","dialogVisible","pageNum","total","tableData","search","pageSize","headerBg","multipleSelection","statusData","label","created","methods","load","params","then","handleSelectionChange","val","reset","check","id","show","confirmButtonText","cancelButtonText","type","checkout","console","showClose","message","handleSizeChange","handleCurrentChange"],"sourceRoot":"src/views","sources":["AuditMeeting.vue"],"sourcesContent":["<template>\r\n  <div style=\"padding: 10px\">\r\n    <div id=\"biaotou\">\r\n      <el-breadcrumb separator-class=\"el-icon-arrow-right\" style=\"font-size: larger\">\r\n        <el-breadcrumb-item :to=\"{ path: '/' }\"><i class=\"el-icon-s-home\"></i>首页</el-breadcrumb-item>\r\n        <el-breadcrumb-item>会议审核</el-breadcrumb-item>\r\n      </el-breadcrumb>\r\n      <el-divider></el-divider>\r\n    </div>\r\n    <div style=\"margin: 10px 0\">\r\n      <div style=\"padding: 10px 0\">\r\n\r\n\r\n        <el-input\r\n            placeholder=\"请输入会议编号\" v-model=\"code\" style=\"width:13%;position:relative;top: 3px;\">\r\n          <i slot=\"suffix\" class=\"el-input__icon el-icon-search\"></i>\r\n        </el-input>\r\n\r\n\r\n        <el-input\r\n            placeholder=\"请输入会议名称\" v-model=\"name\" style=\"width:13%;position:relative;left: 15px;top: 3px;\">\r\n          <i slot=\"suffix\" class=\"el-input__icon el-icon-search\"></i>\r\n        </el-input>\r\n\r\n        <el-input\r\n            placeholder=\"请输入会议发起人\" v-model=\"createUser\" style=\"width:13%;position:relative;left: 30px;top: 3px;\">\r\n          <i slot=\"suffix\" class=\"el-input__icon el-icon-search\"></i>\r\n        </el-input>\r\n\r\n        <el-button type=\"primary\" style=\"float: right;padding: 12px 20px;position: absolute; left: 914px; \"\r\n                   @click=\"load\" plain>搜索\r\n        </el-button>\r\n        <el-button type=\"warning\" style=\"float: right;padding: 12px 20px;position: absolute; left: 990px; \"\r\n                   @click=\"reset\" plain>重置\r\n        </el-button>\r\n\r\n\r\n      </div>\r\n\r\n    </div>\r\n    <el-table\r\n        ref=\"multipleTable\"\r\n        :data=\"tableData\"\r\n        tooltip-effect=\"dark\"\r\n        style=\"width: 100%\"\r\n        highlight-current-row\r\n        border\r\n        stripe\r\n        @selection-change=\"handleSelectionChange\">\r\n\r\n      <el-table-column\r\n          type=\"selection\"\r\n          width=\"40\"\r\n      align=\"center\">\r\n      </el-table-column>\r\n\r\n      <el-table-column\r\n          prop=\"code\"\r\n          label=\"会议编号\"\r\n          width=\"140\">\r\n      </el-table-column>\r\n\r\n      <el-table-column\r\n          prop=\"name\"\r\n          label=\"会议主题\"\r\n          width=\"160\">\r\n      </el-table-column>\r\n\r\n      <el-table-column\r\n          prop=\"createUser\"\r\n          label=\"会议发起人\"\r\n          width=\"120\">\r\n      </el-table-column>\r\n\r\n      <el-table-column\r\n          prop=\"stage\"\r\n          label=\"会议状态\"\r\n          align=\"center\"\r\n          width=\"140\">\r\n        <template slot-scope=\"scope\">\r\n          <el-tag size=\"small\"  v-if=\"scope.row.stage === 0\"  >未开启</el-tag>\r\n          <el-tag size=\"small\" v-else-if=\"scope.row.stage === 1\"   >进行中</el-tag>\r\n          <el-tag size=\"small\" v-else-if=\"scope.row.stage === 2\" type=\"info\" effect=\"dark\">已结束</el-tag>\r\n          <el-tag size=\"small\" v-else-if=\"scope.row.stage === 3\" type=\"warning\" effect=\"dark\">暂缓中</el-tag>\r\n        </template>\r\n      </el-table-column>\r\n\r\n      <el-table-column\r\n          prop=\"address\"\r\n          label=\"地点\"\r\n          width=\"150\">\r\n      </el-table-column>\r\n\r\n      <el-table-column\r\n          prop=\"startDate\"\r\n          label=\"开始时间\"\r\n          width=\"220\">\r\n      </el-table-column>\r\n\r\n      <el-table-column\r\n          prop=\"endDate\"\r\n          label=\"结束时间\"\r\n          width=\"220\">\r\n      </el-table-column>\r\n\r\n      <el-table-column\r\n          prop=\"show\"\r\n          label=\"审核状态\"\r\n          width=\"140\"\r\n          align=\"center\"\r\n      >\r\n        <template slot-scope=\"scope\">\r\n          <el-tag size=\"small\" v-if=\"scope.row.show === 0\" >未审核</el-tag>\r\n          <el-tag size=\"small\" v-else-if=\"scope.row.show === 1\" >已通过</el-tag>\r\n          <el-tag size=\"small\" v-else-if=\"scope.row.show === 2\" >未通过</el-tag>\r\n        </template>\r\n      </el-table-column>\r\n\r\n      <el-table-column\r\n          prop=\"icon\"\r\n          align=\"center\">\r\n\r\n          <template slot-scope=\"scope\">\r\n          <el-button icon=\"el-icon-check\" type=\"warning\" v-model=\"scope.row.show\" active-color=\"#13ce66\"\r\n                     size=\"medium\" inactive-color=\"#ccc\" @click=\"check(scope.row.id,scope.row.show,scope.row.name)\" plain>通过\r\n          </el-button>\r\n          <el-button icon=\"el-icon-close\" type=\"danger\" v-model=\"scope.row.show\" active-color=\"#13ce66\"\r\n                     size=\"medium\"    inactive-color=\"#ccc\" @click=\"checkout(scope.row.id,scope.row.show,scope.row.name)\" plain>不通过\r\n          </el-button>\r\n        </template>\r\n      </el-table-column>\r\n\r\n    </el-table>\r\n\r\n    <div style=\"margin: 10px 0;left: 40%; position: absolute;\">\r\n      <el-pagination\r\n          @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\"\r\n          :current-page=\"pageNum\"\r\n          :page-sizes=\"[8]\"\r\n          :page-size=\"pageSize\"\r\n          background\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n          :total=\"total\">\r\n      </el-pagination>\r\n    </div>\r\n  </div>\r\n\r\n\r\n</template>\r\n<script >\r\nexport default {\r\n  name: \"auditBook\",\r\n  data() {\r\n\r\n    return {\r\n      code:'',\r\n      name: '',\r\n      createUser: '',\r\n      form: {},\r\n      dialogVisible: false,\r\n      pageNum: 1,\r\n      total: 0,\r\n      tableData: [],\r\n      search: '',\r\n      pageSize: 8,\r\n      headerBg: 'headerBg',\r\n\r\n      multipleSelection: [],\r\n\r\n      statusData: {\r\n        '0': {\r\n          label: '未审核'\r\n        },\r\n        '1': {\r\n          label: '已通过'\r\n        },\r\n        '2': {\r\n          label: '审核未通过'\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n  },\r\n  created() {\r\n    //请求分页查询数据\r\n    this.load()\r\n  },\r\n  methods: {\r\n\r\n    load() {\r\n      this.request.get(\"/auditMeeting/page\", {\r\n        params: {\r\n          pageNum: this.pageNum,\r\n          pageSize: this.pageSize,\r\n          code: this.code,\r\n          name: this.name,\r\n          createUser:this.createUser,\r\n\r\n        }\r\n      }).then(res => {\r\n            this.tableData = res.records\r\n            this.total = res.total\r\n\r\n          }\r\n      )\r\n\r\n    },\r\n    handleSelectionChange(val) {\r\n\r\n      this.multipleSelection = val\r\n\r\n    },\r\n    reset() {\r\n      this.code = \"\"\r\n      this.name =\"\"\r\n      this.createUser= ''\r\n      this.load()\r\n    },\r\n\r\n    check(id,show,name) {\r\n      this.$confirm('将于现在通过”' + name + '”会议的审核, 是否确带继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        const from1 = {\r\n          id: id,\r\n          show: 1,\r\n        }\r\n        //修改\r\n        this.request.post('/meeting/MyMeeting', from1)\r\n            .then(res => {\r\n              if (res.code === '200') {\r\n                this.$message.success(\"申请成功\")\r\n                this.load()\r\n              } else {\r\n                this.$message.error(\"申请失败\")\r\n              }\r\n            })\r\n      })\r\n    },\r\n    checkout(id,show,name) {\r\n      this.$confirm('将于现在不通过”' + name + '”会议的审核, 是否确带继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        const from2 = {\r\n          id: id,\r\n          show: 2,\r\n        }\r\n        //修改\r\n        this.request.post('/meeting/MyMeeting', from2)\r\n            .then(res => {\r\n              console.log(\"/meeting/MyMeeting/\")\r\n              this.$message({\r\n                showClose: true,\r\n                message: res.code?'成功不通过！':res.msg,\r\n              });\r\n            })\r\n      })\r\n    },\r\n    handleSizeChange(pageSize) {\r\n      console.log(pageSize)\r\n      this.pageSize = pageSize\r\n      this.load()\r\n    },\r\n    handleCurrentChange(pageNum) {\r\n      this.pageNum = pageNum\r\n      this.load()\r\n    },\r\n  },\r\n}\r\n</script>\r\n<style scoped>\r\n.el-tag{\r\n  font-size: 17px;\r\n}\r\n\r\n.el-tag--small {\r\n  height: 36px;\r\n  padding: 7px 11px;\r\n  line-height: 22px;\r\n}\r\n</style>\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}