{"ast":null,"code":"import \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport * as echarts from 'echarts';\nimport { Editor, Toolbar } from \"@wangeditor/editor-for-vue\";\nexport default {\n  name: \"tabMyMeeting\",\n  components: {\n    Editor: Editor,\n    Toolbar: Toolbar\n  },\n  data: function data() {\n    return {\n      user: {},\n      activeName: \"first\",\n      tableData: [],\n      pageNum: 1,\n      pageSize: 8,\n      dialogTables: false,\n      dialogTableVisible: false,\n      dialogTable: false,\n      form: {},\n      getData: [],\n      information: {},\n      Allnum: '',\n      Earlynum: '',\n      LATERnum: '',\n      Alrnum: '',\n      meeting: [],\n      downloadLoading: false\n    };\n  },\n  created: function created() {\n    //请求分页查询数据\n    this.user = JSON.parse(localStorage.getItem(\"user\"));\n    this.load();\n  },\n  methods: {\n    drawLine: function drawLine() {\n      var chartDom = document.getElementById('main');\n      var myChart = echarts.init(chartDom);\n      var option = {\n        title: {\n          text: '各季度会议展开情况',\n          size: 'large',\n          left: 'center'\n        },\n        tooltip: {\n          trigger: 'item'\n        },\n        xAxis: {\n          type: 'category',\n          data: [\"第一季度\", \"第二季度\", \"第三季度\", \"第四季度\"]\n        },\n        yAxis: {\n          type: 'value'\n        },\n        series: [{\n          data: [],\n          type: 'line'\n        }, {\n          data: [],\n          type: 'bar'\n        }]\n      };\n      this.request.get(\"/echarts/members\").then(function (res) {\n        option.series[0].data = res.data;\n        option.series[1].data = res.data;\n        myChart.setOption(option);\n      });\n    },\n    drawBar: function drawBar() {\n      echarts.init(document.getElementById('pie'));\n      var myChart = echarts.init(document.getElementById('pie'));\n      var option = {\n        title: {\n          text: '该会议人员参会情况',\n          size: 'large',\n          left: 'center'\n        },\n        tooltip: {\n          trigger: 'item'\n        },\n        legend: {\n          top: '5%',\n          left: 'center'\n        },\n        series: [{\n          name: '该会议人员参会情况',\n          type: 'pie',\n          radius: ['40%', '70%'],\n          avoidLabelOverlap: false,\n          itemStyle: {\n            borderRadius: 10,\n            borderColor: '#fff',\n            borderWidth: 2\n          },\n          label: {\n            show: false,\n            position: 'center'\n          },\n          emphasis: {\n            label: {\n              show: true,\n              fontSize: '40',\n              fontWeight: 'bold'\n            }\n          },\n          labelLine: {\n            show: false\n          },\n          data: [{\n            value: this.information.Alrnum,\n            name: '成功签到'\n          }, {\n            value: this.information.Earlynum,\n            name: '早退'\n          }, {\n            value: this.information.LATERnum,\n            name: '迟到'\n          }]\n        }]\n      };\n      myChart.setOption(option, true);\n    },\n    open: function open() {\n      var t = this;\n      setTimeout(function () {\n        //  执行echarts画图方法\n        t.drawBar();\n        t.drawLine();\n      }, 0);\n    },\n    load: function load() {\n      var _this = this;\n\n      this.request.get(\"/AboutMeeting/findMeeting\", {\n        params: {\n          pageNum: this.pageNum,\n          pageSize: this.pageSize,\n          code: this.code,\n          userId: this.user.id,\n          myMeeting: 1\n        }\n      }).then(function (res) {\n        _this.tableData = res;\n      });\n    },\n    MeetingMember: function MeetingMember(row) {\n      var _this2 = this;\n\n      this.dialogTable = true;\n      this.request.get(\"/AboutMeeting/findMember\", {\n        params: {\n          pageNum: this.pageNum,\n          pageSize: this.pageSize,\n          code: row.code\n        }\n      }).then(function (res) {\n        _this2.getData = res;\n      });\n    },\n    MeetingInformation: function MeetingInformation(row) {\n      var _this3 = this;\n\n      this.dialogTables = true;\n      this.request.get(\"/echarts\", {\n        params: {\n          meetingId: row.meetingId\n        }\n      }).then(function (res) {\n        _this3.information = res.data;\n        _this3.meeting.meetingId = row.meetingId;\n        console.log(_this3.meeting);\n      });\n    },\n    load1: function load1(row) {\n      var _this4 = this;\n\n      console.log(row);\n      this.request.get(\"/AboutMeeting/findMember\", {\n        params: {\n          pageNum: this.pageNum,\n          pageSize: this.pageSize,\n          code: this.code\n        }\n      }).then(function (res) {\n        _this4.getData = res;\n      });\n    },\n    MeetingDetail: function MeetingDetail(row) {\n      this.form = row;\n      this.dialogTableVisible = true;\n    },\n    exp: function exp() {\n      var _this5 = this;\n\n      this.downloadLoading = true;\n      import('@/utils/Export2Excel.js').then(function (excel) {\n        var tHeader = ['会议号', '用户编号', '用户姓名', '签到情况', '会议状态'];\n        var filterVal = ['code', 'userId', 'uname', 'participateStatus', 'stage'];\n        excel.export_json_to_excel2(tHeader, _this5.getData, filterVal, +'人员信息');\n        _this5.downloadLoading = false;\n      });\n    },\n    handleSizeChange: function handleSizeChange(pageSize) {\n      this.pageSize = pageSize;\n      this.load();\n    },\n    handleCurrentChange: function handleCurrentChange(pageNum) {\n      this.pageNum = pageNum;\n      this.load();\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["name","components","Editor","Toolbar","data","user","activeName","tableData","pageNum","pageSize","dialogTables","dialogTableVisible","dialogTable","form","getData","information","Allnum","Earlynum","LATERnum","Alrnum","meeting","downloadLoading","created","methods","drawLine","title","text","size","left","tooltip","trigger","xAxis","type","yAxis","series","option","myChart","drawBar","echarts","legend","top","radius","avoidLabelOverlap","itemStyle","borderRadius","borderColor","borderWidth","label","show","position","emphasis","fontSize","fontWeight","labelLine","value","open","setTimeout","t","load","params","code","userId","myMeeting","then","MeetingMember","row","MeetingInformation","meetingId","console","load1","MeetingDetail","exp","excel","handleSizeChange","handleCurrentChange"],"sourceRoot":"src/views","sources":["tabMyMeeting.vue"],"sourcesContent":["<template>\r\n<div class=\"MyMeeting\">\r\n  <el-table :data=\"tableData\"   stripe style=\"width: 100%;margin-bottom: 10px\">\r\n\r\n    <el-table-column\r\n        fixed prop=\"startDate\" label=\"开始时间\" width=\"320\"  sortable>\r\n    </el-table-column>\r\n\r\n\r\n    <el-table-column\r\n        prop=\"name\" label=\"会议主题\" width=\"320\">\r\n      <template slot-scope=\"scope\">\r\n        <a @click=\"MeetingDetail(scope.row)\" style=\"color: #409eff;cursor:pointer\">{{scope.row.name}}</a>\r\n      </template>\r\n    </el-table-column>\r\n\r\n    <el-table-column\r\n        prop=\"code\" label=\"会议号\" width=\"200\">\r\n    </el-table-column>\r\n\r\n    <el-table-column\r\n        prop=\"participateStatus\" label=\"签到情况\" width=\"180\" align=\"center\">\r\n      <template slot-scope=\"scope\">\r\n        <el-tag size=\"small\"  v-if=\"scope.row.participateStatus === 0\"  type=\"info \" >未签到</el-tag>\r\n        <el-tag size=\"small\" v-else-if=\"scope.row.participateStatus === 1\"  >已签到</el-tag>\r\n        <el-tag size=\"small\" v-else-if=\"scope.row.participateStatus === 2\" type=\"warning\" effect=\"dark\">迟到</el-tag>\r\n        <el-tag size=\"small\" v-else-if=\"scope.row.participateStatus === 3\" type=\"warning\" effect=\"dark\">早退</el-tag>\r\n      </template>\r\n    </el-table-column>\r\n\r\n    <el-table-column\r\n        prop=\"stage\" label=\"会议状态\" width=\"230\" align=\"center\">\r\n      <template slot-scope=\"scope\">\r\n        <el-tag size=\"small\"  v-if=\"scope.row.stage === 0\"  >未开启</el-tag>\r\n        <el-tag size=\"small\" v-else-if=\"scope.row.stage === 1\"   >进行中</el-tag>\r\n        <el-tag size=\"small\" v-else-if=\"scope.row.stage === 2\" type=\"info\" effect=\"dark\">已结束</el-tag>\r\n        <el-tag size=\"small\" v-else-if=\"scope.row.stage === 3\" type=\"warning\" effect=\"dark\">暂缓中</el-tag>\r\n      </template>\r\n    </el-table-column>\r\n\r\n\r\n    <el-table-column prop=\"city\" label=\"操作\" align=\"center\">\r\n      <template slot-scope=\"scope\">\r\n        <el-button type=\"text\">进入会议</el-button>\r\n\r\n        <el-divider direction=\"vertical\"></el-divider>\r\n        <el-button type=\"text\" @click=\"MeetingMember(scope.row)\">参会人员</el-button>\r\n        <el-divider direction=\"vertical\"></el-divider>\r\n        <el-button type=\"text\" @click=\"MeetingInformation(scope.row)\">会议数据</el-button>\r\n      </template>\r\n    </el-table-column>\r\n\r\n\r\n  </el-table>\r\n  <!-- Table -->\r\n  <div class=\"MeetingMember\" style=\"width: 70%\">\r\n  <el-dialog title=\"参会人员\"  :visible.sync=\"dialogTable\">\r\n    <template slot-scope=\"scope\">\r\n      <el-button\r\n          style=\" position: absolute;  left: 13%;  top: 6%;\"\r\n          icon=\"el-icon-upload2\"\r\n          @click=\"exp()\" circle></el-button>\r\n        <el-table :data=\"getData\"   style=\"margin-bottom: 10px\">\r\n\r\n          <el-table-column\r\n              prop=\"code\" label=\"会议号\" width=\"100\" align=\"center\">\r\n          </el-table-column>\r\n\r\n          <el-table-column\r\n              prop=\"userId\" label=\"用户编号\" width=\"180\" align=\"center\">\r\n          </el-table-column>\r\n\r\n          <el-table-column\r\n              prop=\"uname\" label=\"用户姓名\" width=\"200\" align=\"center\">\r\n          </el-table-column>\r\n\r\n          <el-table-column\r\n              prop=\"participateStatus\" label=\"签到情况\" width=\"180\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              <el-tag size=\"small\"  v-if=\"scope.row.participateStatus === 0\"  type=\"info \" >未签到</el-tag>\r\n              <el-tag size=\"small\" v-else-if=\"scope.row.participateStatus === 1\"  >已签到</el-tag>\r\n              <el-tag size=\"small\" v-else-if=\"scope.row.participateStatus === 2\" type=\"warning\" effect=\"dark\">迟到</el-tag>\r\n              <el-tag size=\"small\" v-else-if=\"scope.row.participateStatus === 3\" type=\"warning\" effect=\"dark\">早退</el-tag>\r\n            </template>\r\n          </el-table-column>\r\n\r\n          <el-table-column\r\n              prop=\"signInDate\" label=\"参会时间\" width=\"300\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              <el-tag size=\"small\"  v-if=\"scope.row.stage === 0\"  >未开启</el-tag>\r\n              <el-tag size=\"small\" v-else-if=\"scope.row.stage === 1\"   >进行中</el-tag>\r\n              <el-tag size=\"small\" v-else-if=\"scope.row.stage === 2\" type=\"info\" effect=\"dark\">已结束</el-tag>\r\n              <el-tag size=\"small\" v-else-if=\"scope.row.stage === 3\" type=\"warning\" effect=\"dark\">暂缓中</el-tag>\r\n            </template>\r\n          </el-table-column>\r\n\r\n          <el-table-column\r\n              prop=\"signOutDate\" label=\"退出时间\" width=\"300\" align=\"center\">\r\n          </el-table-column>\r\n\r\n\r\n        </el-table>\r\n        <div style=\"margin-top: 10px;position: relative;left: 35%\">\r\n        </div>\r\n\r\n    </template>\r\n  </el-dialog>\r\n</div>\r\n  <div CLASS=\"MeetingInformation\">\r\n    <el-dialog :title='\"数据明细\"+\"(\"+ information.Allnum +\")\"' @open=\"open()\" destroy-on-close :visible.sync=\"dialogTables\"  width=\"1100px\" >\r\n      <el-divider></el-divider>\r\n     <el-row :gutter=\"10\" style=\"margin-bottom: 60px\">\r\n       <el-col :span=\"6\">\r\n         <el-card>\r\n           <div style=\"color: #409eff\"><i class=\"el-icon-user\"></i>\r\n           参会人数\r\n           </div>\r\n           <div style=\"padding: 10px 0;text-align: center;font-weight: bold\">\r\n             {{information.Earlynum+information.Alrnum+information.LATERnum}}\r\n           </div>\r\n         </el-card>\r\n       </el-col>\r\n       <el-col :span=\"6\">\r\n         <el-card>\r\n           <div style=\"color: #409eff\"><icon class=\"el-icon-star-off\"> </icon>\r\n           签到人数\r\n           </div>\r\n         <div style=\"padding: 10px 0;text-align: center;font-weight: bold\">\r\n           {{information.Alrnum}}\r\n         </div>\r\n         </el-card>\r\n       </el-col>\r\n       <el-col :span=\"6\">\r\n         <el-card>\r\n           <div style=\"color: #409eff\"><i CLASS=\"el-icon-warning-outline\"></i>\r\n           迟到人数\r\n           </div>\r\n         <div style=\"padding: 10px 0;text-align: center;font-weight: bold\">\r\n           {{information.LATERnum}}\r\n         </div>\r\n         </el-card>\r\n       </el-col>\r\n       <el-col :span=\"6\">\r\n         <el-card>\r\n           <div style=\"color: #409eff\"><i CLASS=\"el-icon-circle-close\"></i>\r\n             早退人数\r\n           </div>\r\n           <div style=\"padding: 10px 0;text-align: center;font-weight: bold\">\r\n             {{information.Earlynum}}\r\n           </div>\r\n         </el-card>\r\n       </el-col>\r\n     </el-row>\r\n        <el-row>\r\n          <el-col :span=\"12\">\r\n            <div id=\"main\" style=\"width: 500px;height: 450px\"></div>\r\n          </el-col>\r\n          <el-col :span=\"10\">\r\n            <div id=\"pie\" style=\"width: 500px;height: 460px\"></div>\r\n          </el-col>\r\n        </el-row>\r\n    </el-dialog>\r\n  </div>\r\n\r\n  <el-dialog title=\"会议详情\"  :visible.sync=\"dialogTableVisible\">\r\n\r\n    <template slot-scope=\"scope\">\r\n\r\n<!--form类型的会议详情-->\r\n      <div class=\"detail\">\r\n        <el-form :model=\"form\" label-width=\"130px\"   style=\"padding-right: 15px\" >\r\n          <el-form-item label=\"会议主题 :\" prop=\"name\">\r\n            <el-input readonly v-model=\"form.name\"  style=\"width: 55%;font-size: large\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"会议时间 :\" >\r\n            <el-col :span=\"5\" >\r\n              <el-date-picker\r\n                  readonly\r\n                  v-model=\"form.startDate\"\r\n                  type=\"datetime\"\r\n                 >\r\n              </el-date-picker>\r\n            </el-col>\r\n            <el-col class=\"line\" :span=\"5\" style=\"position: relative;left:12%\" >  ——> </el-col>\r\n            <el-col :span=\"5\">\r\n              <el-date-picker\r\n                  readonly\r\n                  v-model=\"form.endDate\"\r\n                  type=\"datetime\"\r\n                >\r\n              </el-date-picker>\r\n            </el-col>\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"会议号 :\" prop=\"code\" >\r\n            <el-input v-model=\"form.code\" style=\"width: 55%\"> </el-input>\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"审核情况 :\" prop=\"show\" >\r\n             <el-tag size=\"small\"  style=\"padding-left: 10px\" v-if=\"form.show === 0\" >未审核</el-tag>\r\n             <el-tag size=\"small\"   style=\"left: 14px;height: 36px;font-size:large;position: relative\" v-else-if=\"form.show === 1\" >已通过</el-tag>\r\n             <el-tag size=\"small\"  v-else-if=\"form.show === 2\" >未通过</el-tag>\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"会议地址 :\" prop=\"address\">\r\n            <el-input v-model=\"form.address\" style=\"width: 75%\"></el-input>\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"创建时间 :\" prop=\"code\">\r\n            <el-input v-model=\"form.createTime\" style=\"width: 45%\"> </el-input>\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"会议简介 :\" prop=\"address\" >\r\n          <div>\r\n            <div v-html=\"form.description\" style=\"left: 2%;position: relative; \"></div>\r\n          </div>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n    </template>\r\n  </el-dialog>\r\n\r\n  <div style=\"margin-top: 10px;position: relative;left: 35%\">\r\n    <el-pagination\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page=\"pageNum\"\r\n        :page-sizes=\"[8]\"\r\n        :page-size=\"pageSize\"\r\n        background\r\n        layout=\"  prev,sizes, pager, next, jumper\"\r\n        >\r\n    </el-pagination>\r\n  </div>\r\n\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as echarts from 'echarts'\r\nimport {Editor, Toolbar} from \"@wangeditor/editor-for-vue\";\r\n\r\nexport default {\r\n  name: \"tabMyMeeting\",\r\n\r\n  components: { Editor, Toolbar },\r\n\r\n  data() {\r\n    return {\r\n      user:{},\r\n      activeName: \"first\",\r\n      tableData: [],\r\n      pageNum: 1,\r\n      pageSize: 8,\r\n      dialogTables:false,\r\n      dialogTableVisible: false,\r\n      dialogTable:false,\r\n      form: {},\r\n      getData:[],\r\n      information:{},\r\n      Allnum:'',\r\n      Earlynum:'',\r\n      LATERnum:'',\r\n      Alrnum:'',\r\n      meeting:[],\r\n\r\n      downloadLoading: false\r\n    };\r\n  },\r\n\r\n\r\n\r\n  created() {\r\n    //请求分页查询数据\r\n    this.user=  JSON.parse(localStorage.getItem(\"user\"))\r\n    this.load()\r\n  },\r\n\r\n\r\n\r\n  methods: {\r\n\r\n\r\n    drawLine() {\r\n      let chartDom = document.getElementById('main');\r\n      let myChart = echarts.init(chartDom);\r\n      var option = {\r\n        title:{\r\n          text:'各季度会议展开情况',\r\n          size:'large',\r\n          left: 'center'\r\n        },\r\n        tooltip: {\r\n          trigger: 'item'\r\n        },\r\n        xAxis: {\r\n          type: 'category',\r\n          data: [\"第一季度\",\"第二季度\",\"第三季度\",\"第四季度\"]\r\n        },\r\n        yAxis: {\r\n          type: 'value'\r\n        },\r\n        series: [\r\n          {\r\n            data: [],\r\n            type: 'line'\r\n          },\r\n          {\r\n            data: [],\r\n            type: 'bar'\r\n          }\r\n        ]\r\n      };\r\n\r\n      this.request.get(\"/echarts/members\").then(res=>{\r\n        option.series[0].data= res.data\r\n        option.series[1].data= res.data\r\n        myChart.setOption(option);\r\n            })\r\n\r\n    },\r\n    drawBar(){\r\n      echarts.init( document.getElementById('pie'));\r\n      let myChart = echarts.init(document.getElementById('pie'));\r\n      const option = {\r\n        title:{\r\n          text:'该会议人员参会情况',\r\n          size:'large',\r\n          left: 'center'\r\n        },\r\n        tooltip: {\r\n          trigger: 'item'\r\n        },\r\n        legend: {\r\n          top: '5%',\r\n          left: 'center'\r\n        },\r\n        series: [\r\n          {\r\n            name: '该会议人员参会情况',\r\n            type: 'pie',\r\n            radius: ['40%', '70%'],\r\n            avoidLabelOverlap: false,\r\n            itemStyle: {\r\n              borderRadius: 10,\r\n              borderColor: '#fff',\r\n              borderWidth: 2\r\n            },\r\n            label: {\r\n              show: false,\r\n              position: 'center'\r\n            },\r\n            emphasis: {\r\n              label: {\r\n                show: true,\r\n                fontSize: '40',\r\n                fontWeight: 'bold'\r\n              }\r\n            },\r\n            labelLine: {\r\n              show: false\r\n            },\r\n            data: [\r\n              { value: this.information.Alrnum, name: '成功签到' },\r\n              { value: this.information.Earlynum, name: '早退' },\r\n              { value: this.information.LATERnum, name: '迟到' },\r\n\r\n            ]\r\n          }\r\n        ]\r\n      };\r\n      myChart.setOption(option, true);\r\n    },\r\n\r\n\r\n    open() {\r\n      const t = this;\r\n      setTimeout(() => {\r\n        //  执行echarts画图方法\r\n          t.drawBar();\r\n        t.drawLine();\r\n\r\n\r\n      },0)\r\n    },\r\n\r\n\r\n    load() {\r\n      this.request.get(\"/AboutMeeting/findMeeting\", {\r\n        params: {\r\n          pageNum: this.pageNum,\r\n          pageSize: this.pageSize,\r\n          code: this.code,\r\n          userId: this.user.id,\r\n          myMeeting:1\r\n        }\r\n\r\n      }).then(res => {\r\n            this.tableData = res\r\n          }\r\n      )\r\n    },\r\n    MeetingMember(row){\r\n      this.dialogTable = true\r\n      this.request.get(\"/AboutMeeting/findMember\", {\r\n        params: {\r\n          pageNum: this.pageNum,\r\n          pageSize: this.pageSize,\r\n          code:row.code\r\n        }\r\n      }).then(res => {\r\n            this.getData = res\r\n          }\r\n      )\r\n\r\n    },\r\n    MeetingInformation(row){\r\n      this.dialogTables = true\r\n      this.request.get(\"/echarts\",{\r\n        params:{\r\n          meetingId:row.meetingId\r\n\r\n        }\r\n      }).then(res =>{\r\n            this.information=res.data\r\n            this.meeting.meetingId=row.meetingId\r\n            console.log(this.meeting)\r\n          }\r\n      )\r\n\r\n    },\r\n    load1(row) {\r\n      console.log(row)\r\n      this.request.get(\"/AboutMeeting/findMember\", {\r\n        params: {\r\n          pageNum: this.pageNum,\r\n          pageSize: this.pageSize,\r\n          code:this.code\r\n        }\r\n      }).then(res => {\r\n            this.getData = res\r\n          }\r\n      )\r\n    },\r\n    MeetingDetail(row){\r\n      this.form=row\r\n      this.dialogTableVisible = true\r\n    },\r\n    exp(){\r\n      this.downloadLoading = true\r\n      import('@/utils/Export2Excel.js').then(excel => {\r\n        const tHeader = ['会议号', '用户编号', '用户姓名', '签到情况', '会议状态']\r\n        const filterVal = ['code', 'userId', 'uname', 'participateStatus', 'stage']\r\n\r\n        excel.export_json_to_excel2(tHeader, this.getData, filterVal, +'人员信息')\r\n        this.downloadLoading = false\r\n      })\r\n\r\n    },\r\n    handleSizeChange(pageSize) {\r\n\r\n      this.pageSize = pageSize\r\n      this.load()\r\n    },\r\n    handleCurrentChange(pageNum) {\r\n      this.pageNum = pageNum\r\n      this.load()\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.el-tag--small {\r\n  height: 33px;\r\n  padding: 4px 9px;\r\n  line-height: 22px;\r\n  font-size: initial;\r\n}\r\n\r\n::v-deep .el-table__fixed {\r\n  height: 100% !important;\r\n\r\n  }\r\n::v-deep .detail .el-input__inner {\r\n  border: 1px solid #ffffff;\r\n  font-size: large;\r\n  font-family: 微软雅黑;\r\n  width: 245px;\r\n}\r\n::v-deep .el-input__inner:hover {\r\n  border-color: #ffffff;\r\n}\r\n::v-deep  .el-form-item__label {\r\n  font-size: large;\r\n}\r\n\r\n::v-deep .el-dialog__title {\r\n  line-height: 41px;\r\n  font-size: 20px;\r\n  padding-left: 10px;\r\n  color: #000000;\r\n}\r\n\r\n::v-deep .MeetingMember  .el-dialog__body {\r\n  padding: 3px 20px 10px 43px;\r\n}\r\n::v-deep .MeetingInformation .el-dialog__body {\r\npadding-top:0;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}