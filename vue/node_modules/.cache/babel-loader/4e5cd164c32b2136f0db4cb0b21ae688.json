{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nexport default {\n  props: {},\n  data: function data() {\n    return {\n      dialogVisible: false\n    };\n  },\n  methods: {\n    getfile: function getfile(event) {\n      this.file = event.target.files[0];\n    },\n    save: function save(event) {\n      event.preventDefault();\n      var formData = new FormData(); // formData.append('filename',(this.file).name)\n\n      formData.append('username', '陈少龙');\n      formData.append('image', this.file);\n      console.log(formData);\n      var url = 'https://xiaoku.store:5000/register';\n      axios.post(url, formData).then(function (res) {\n        console.log(res.data);\n      }).catch(function (err) {\n        alert(err);\n      });\n    },\n    reads: function reads(obj) {\n      var file = obj.files[0];\n      var reader = new FileReader();\n      reader.readAsDataURL(file);\n\n      reader.onload = function (ev) {\n        $(\"#backimg\").attr(\"src\", ev.target.result);\n      };\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;AAsBA;AACA;EACAA,SADA;EAIAC,IAJA,kBAIA;IACA;MACAC;IADA;EAGA,CARA;EAUAC;IACAC,OADA,mBACAC,KADA,EACA;MACA;IACA,CAHA;IAIAC,IAJA,gBAIAD,KAJA,EAIA;MACAA;MACA,8BAFA,CAGA;;MACAE;MACAA;MACAC;MACA;MACAC,0BACAC,IADA,CACA;QACAF;MACA,CAHA,EAIAG,KAJA,CAIA;QACAC;MACA,CANA;IAOA,CAnBA;IAoBAC,KApBA,iBAoBAC,GApBA,EAoBA;MACA;MACA;MACAC;;MACAA;QACAC;MACA,CAFA;IAIA;EA5BA;AAVA","names":["props","data","dialogVisible","methods","getfile","event","save","formData","console","axios","then","catch","alert","reads","obj","reader","$"],"sourceRoot":"src/views","sources":["join.vue"],"sourcesContent":["<template>\n  <div class=\"camera-box\" style=\"width: 900px;\">\n    <el-button type='primary' size='small' icon=\"el-icon-camera\" @click=\"dialogVisible=true\" >拍照</el-button>\n\n    <el-dialog title=\"用户信息\" :visible.sync=\"dialogVisible\"  width=\"50%\"  >\n\n<!--        <el-form-item label=\"用户名姓名:\">-->\n<!--          <el-input v-model=\"form.user_name\"  style=\"width:20%\"></el-input>-->\n<!--        </el-form-item>-->\n\n          <input  type=\"file\" @change=\"getfile($event)\"  @click=\"reads(this)\">\n      <template #footer>\n          <span class=\"dialog-footer\">\n            <el-button @click=\"dialogVisible = false\">取 消</el-button>\n            <el-button type=\"primary\" @click=\"save($event)\">确 定</el-button>\n          </span>\n      </template>\n    </el-dialog>\n\n  </div>\n</template>\n<script>\nimport axios from 'axios'\nexport default {\n  props:{\n\n  },\n  data() {\n    return {\n      dialogVisible:false,\n    }\n  },\n\n  methods: {\n    getfile(event){\n    this.file=event.target.files[0];\n    },\n    save(event){\n      event.preventDefault();\n      let formData=new FormData()\n      // formData.append('filename',(this.file).name)\n      formData.append('username','陈少龙')\n      formData.append('image',this.file)\n      console.log(formData)\n      let url = 'https://xiaoku.store:5000/register'\n      axios.post(url, formData)\n          .then(res => {\n            console.log(res.data)\n          })\n          .catch(err => {\n            alert(err)\n          })\n    },\n    reads(obj) {\n      var file = obj.files[0];\n      var reader = new  FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = function (ev) {\n        $(\"#backimg\").attr(\"src\", ev.target.result);\n      }\n\n  }\n}\n}\n</script>\n<style>\n.camera-box #canvas{\n  border: 1px solid #DCDFE6;\n}\n</style>"]},"metadata":{},"sourceType":"module"}