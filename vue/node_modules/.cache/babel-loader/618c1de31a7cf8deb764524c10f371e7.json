{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'Preview',\n  props: {\n    client: {\n      type: Object,\n      default: null\n    },\n    isRoomAdmin: {\n      type: Boolean,\n      default: false\n    }\n  },\n  show: false,\n  methods: {\n    // 左箭头\n    submit(evt) {\n      let target = evt.target;\n\n      if (target.nodeName === \"SPAN\") {\n        target = evt.target.parentNode;\n      }\n\n      target.blur();\n    },\n\n    leftSlide() {\n      // 保存滚动盒子左侧已滚动的距离\n      let left = this.$refs.wrapperCon.scrollLeft;\n      let num = 0;\n      clearInterval(this.timer);\n      this.timer = null;\n      this.timer = setInterval(() => {\n        //   !left:已经滚动到最左侧\n        //   一次性滚动距离（可调节）\n        if (!left || num >= 300) {\n          // 停止滚动\n          clearInterval(this.timer);\n          this.timer = null;\n          return;\n        } // 给滚动盒子元素赋值向左滚动距离\n\n\n        this.$refs.wrapperCon.scrollLeft = left -= 30; // 保存向左滚动距离（方便判断一次性滚动多少距离）\n\n        num += 30;\n      }, 20); // 20：速度（可调节）\n    },\n\n    // 右箭头\n    rightSlide() {\n      // 保存滚动盒子左侧已滚动的距离\n      let left = this.$refs.wrapperCon.scrollLeft; // 保存元素的整体宽度\n\n      let scrollWidth = this.$refs.wrapperCon.scrollWidth; // 保存元素的可见宽度\n\n      let clientWidth = this.$refs.wrapperCon.clientWidth;\n      let num = 0;\n      clearInterval(this.timer);\n      this.timer = setInterval(() => {\n        // 已经滚动距离+可见宽度\n        // left+clientWidth>=scrollWidth：滚动到最右侧\n        // num>=300一次性滚动距离\n        if (left + clientWidth >= scrollWidth || num >= 300) {\n          clearInterval(this.timer);\n          return;\n        } // 给滚动盒子元素赋值向左滚动距离\n\n\n        this.$refs.wrapperCon.scrollLeft = left += 30; // 保存向左滚动距离（方便判断一次性滚动多少距离）\n\n        num += 30;\n      }, 20); // 20：速度（可调节）\n    }\n\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;EACAA,eADA;EAEAC;IACAC;MACAC,YADA;MAEAC;IAFA,CADA;IAKAC;MACAF,aADA;MAEAC;IAFA;EALA,CAFA;EAYAE,WAZA;EAcAC;IACA;IACAC;MACA;;MACA;QACAC;MACA;;MACAA;IACA,CARA;;IASAC;MACA;MACA;MACA;MACAC;MACA;MACA;QACA;QACA;QACA;UACA;UACAA;UACA;UACA;QACA,CARA,CASA;;;QACA,8CAVA,CAWA;;QACAC;MACA,CAbA,EAaA,EAbA,EANA,CAoBA;IACA,CA9BA;;IAgCA;IACAC;MACA;MACA,4CAFA,CAGA;;MACA,oDAJA,CAKA;;MACA;MACA;MACAF;MACA;QACA;QACA;QACA;QACA;UACAA;UACA;QACA,CAPA,CAQA;;;QACA,8CATA,CAUA;;QACAC;MACA,CAZA,EAYA,EAZA,EATA,CAsBA;IACA;;EAxDA;AAdA","names":["name","props","client","type","default","isRoomAdmin","show","methods","submit","target","leftSlide","clearInterval","num","rightSlide"],"sourceRoot":"src/views/meeting/components","sources":["Preview.vue"],"sourcesContent":["<template>\n  <div class=\"Preview-container\" @mouseenter=\"show=true\" @mouseleave=\"show=false\">\n    <div class=\"left_btn\" @click=\"leftSlide\">\n      <el-button type=\"info\" icon=\"el-icon-arrow-left\" plain circle @click.native=\"submit\" v-show=\"show\" ></el-button>\n    </div>\n    <div class=\"right_btn\" style=\"position: relative;left: 200px\" @click=\"rightSlide\">\n      <el-button type=\"info\" icon=\"el-icon-arrow-right\" plain circle @click.native=\"submit\" v-show=\"show\"></el-button>\n    </div>\n\n    <div style=\"background: black\">\n      <div class=\"video-container\">\n        <video v-show=\"client.view\" autoplay :muted.prop=\"client.muted || client.isSelf\" :srcObject.prop=\"client.localStream\" style=\"height: 100%;width: 100%\" />\n        <i v-show=\"!client.view && !client.muted\" class=\"el-icon-mic clientStatus\" />\n        <i v-show=\"!client.view && client.muted && client.chat\" class=\"el-icon-chat-dot-round clientStatus\" />\n        <i v-show=\"!client.view && client.muted && !client.chat\" class=\"el-icon-circle-close clientStatus\" />\n      </div>\n    </div>\n    <div class=\"console-container\">\n      <span style=\"max-width: 130px\">\n<!--        <i v-if=\"client.isRoomAdmin\" class=\"el-icon-s-custom\" />-->\n<!--        <i v-if=\"!client.isRoomAdmin\" class=\"el-icon-user\" />-->\n        <i  :class='client.isRoomAdmin?\"el-icon-s-custom\":\"el-icon-user\"' />\n        <span>{{ client.nickname }}</span>\n        <i v-if=\"client.isSelf\" class=\"el-icon-refresh\" @click=\"$emit('changeStreamEvent',client.userId)\" />\n      </span>\n      <span style=\"float: right\">\n        <i v-show=\"client.view\" class=\"el-icon-full-screen\" @click=\"$emit('fullEvent',client.userId)\" />\n\n        <svg-icon v-show=\"client.view\" icon-class=\"eye-open\" @click=\"$emit('viewEvent',client.userId)\" />\n        <svg-icon v-show=\"!client.view\" icon-class=\"eye\" @click=\"$emit('viewEvent',client.userId)\" />\n\n        <i v-show=\"client.muted\" class=\"el-icon-turn-off-microphone\" @click=\"$emit('microEvent',client.userId)\" />\n        <i v-show=\"!client.muted\" class=\"el-icon-microphone\" @click=\"$emit('microEvent',client.userId)\" />\n\n        <i v-show=\"!client.isSelf && isRoomAdmin && client.chat\" class=\"el-icon-chat-dot-round\" @click=\"$emit('banEvent',client.userId)\" />\n        <i v-show=\"!client.isSelf && isRoomAdmin && !client.chat\" class=\"el-icon-chat-round\" @click=\"$emit('banEvent',client.userId)\" />\n\n        <i v-if=\"!client.isSelf && isRoomAdmin\" style=\"color: #ff4250;horiz-align: right\" class=\"el-icon-error\" @click=\"$emit('kickEvent',client.userId)\" />\n      </span>\n    </div>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'Preview',\n  props: {\n    client: {\n      type: Object,\n      default: null\n    },\n    isRoomAdmin: {\n      type: Boolean,\n      default: false\n    },\n  },\n  show:false,\n\n  methods:{\n    // 左箭头\n    submit(evt) {\n      let target = evt.target;\n      if(target.nodeName === \"SPAN\"){\n        target = evt.target.parentNode;\n      }\n      target.blur()\n    },\n    leftSlide() {\n      // 保存滚动盒子左侧已滚动的距离\n      let left = this.$refs.wrapperCon.scrollLeft\n      let num = 0\n      clearInterval(this.timer)\n      this.timer = null\n      this.timer = setInterval(() => {\n        //   !left:已经滚动到最左侧\n        //   一次性滚动距离（可调节）\n        if (!left || num >= 300) {\n          // 停止滚动\n          clearInterval(this.timer)\n          this.timer = null\n          return\n        }\n        // 给滚动盒子元素赋值向左滚动距离\n        this.$refs.wrapperCon.scrollLeft = left -= 30\n        // 保存向左滚动距离（方便判断一次性滚动多少距离）\n        num += 30\n      }, 20)\n      // 20：速度（可调节）\n    },\n\n    // 右箭头\n    rightSlide() {\n      // 保存滚动盒子左侧已滚动的距离\n      let left = this.$refs.wrapperCon.scrollLeft\n      // 保存元素的整体宽度\n      let scrollWidth = this.$refs.wrapperCon.scrollWidth\n      // 保存元素的可见宽度\n      let clientWidth = this.$refs.wrapperCon.clientWidth\n      let num = 0\n      clearInterval(this.timer)\n      this.timer = setInterval(() => {\n        // 已经滚动距离+可见宽度\n        // left+clientWidth>=scrollWidth：滚动到最右侧\n        // num>=300一次性滚动距离\n        if (left + clientWidth >= scrollWidth || num >= 300) {\n          clearInterval(this.timer)\n          return\n        }\n        // 给滚动盒子元素赋值向左滚动距离\n        this.$refs.wrapperCon.scrollLeft = left += 30\n        // 保存向左滚动距离（方便判断一次性滚动多少距离）\n        num += 30\n      }, 20)\n      // 20：速度（可调节）\n    }\n  }\n\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.Preview-container{\n  display:inline-block;\n  width: 240px;\n  height: 200px;\n  margin-right: 3px;\n}\n  .video-container{\n    height: 170px;\n    background: #939394;\n    /*-webkit-mask-image: url(\"~@/assets/svg/people.svg\");*/\n    /*mask-image: url(\"~@/assets/svg/people.svg\");*/\n    /*mask-repeat: no-repeat;*/\n    /*mask-position: center;*/\n    text-align: center;\n  }\n  .console-container{\n    padding: 0 7px;\n    height: 26px;\n    background: white;\n    line-height:30px;\n  }\n.console-container i {\n  font-size: 22px;\n}\n.console-container .svg-icon {\n  font-size: 22px;\n}\n  .clientStatus {\n    font-size: 150px;\n    line-height: 170px\n  }\n\n</style>\n"]},"metadata":{},"sourceType":"module"}