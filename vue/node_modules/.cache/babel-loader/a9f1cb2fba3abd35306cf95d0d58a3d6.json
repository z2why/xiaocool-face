{"ast":null,"code":"class DevicePixelRatio {\n  constructor() {//this.flag = false;\n  } //获取系统类型\n\n\n  _getSystem() {\n    let flag = false;\n    var agent = navigator.userAgent.toLowerCase(); //\t\tvar isMac = /macintosh|mac os x/i.test(navigator.userAgent);\n    //\t\tif(isMac) {\n    //\t\t\treturn false;\n    //\t\t}\n    //现只针对windows处理，其它系统暂无该情况，如有，继续在此添加\n\n    if (agent.indexOf(\"windows\") >= 0) {\n      return true;\n    }\n  } //获取页面缩放比例\n\n\n  _getDevicePixelRatio() {\n    let t = this;\n  } //监听方法兼容写法\n\n\n  _addHandler(element, type, handler) {\n    if (element.addEventListener) {\n      element.addEventListener(type, handler, false);\n    } else if (element.attachEvent) {\n      element.attachEvent(\"on\" + type, handler);\n    } else {\n      element[\"on\" + type] = handler;\n    }\n  } //校正浏览器缩放比例\n\n\n  _correct() {\n    let t = this; //页面devicePixelRatio（设备像素比例）变化后，计算页面body标签zoom修改其大小，来抵消devicePixelRatio带来的变化。\n\n    document.getElementsByTagName('body')[0].style.zoom = 1 / window.devicePixelRatio;\n  } //监听页面缩放\n\n\n  _watch() {\n    let t = this;\n\n    t._addHandler(window, 'resize', function () {\n      //注意这个方法是解决全局有两个window.resize\n      //重新校正\n      t._correct();\n    });\n  } //初始化页面比例\n\n\n  init() {\n    let t = this;\n\n    if (t._getSystem()) {\n      //判断设备，目前只在windows系统下校正浏览器缩放比例\n      //初始化页面校正浏览器缩放比例\n      t._correct(); //开启监听页面缩放\n\n\n      t._watch();\n    }\n  }\n\n}\n\nexport default DevicePixelRatio;","map":{"version":3,"names":["DevicePixelRatio","constructor","_getSystem","flag","agent","navigator","userAgent","toLowerCase","indexOf","_getDevicePixelRatio","t","_addHandler","element","type","handler","addEventListener","attachEvent","_correct","document","getElementsByTagName","style","zoom","window","devicePixelRatio","_watch","init"],"sources":["C:/Users/86134/Desktop/爱读书/springboot-vue/vue/src/assets/js/devicePixelRatio.js"],"sourcesContent":["class DevicePixelRatio {\r\n    constructor() {\r\n        //this.flag = false;\r\n    }\r\n    //获取系统类型\r\n    _getSystem() {\r\n        let flag = false;\r\n        var agent = navigator.userAgent.toLowerCase();\r\n        //\t\tvar isMac = /macintosh|mac os x/i.test(navigator.userAgent);\r\n        //\t\tif(isMac) {\r\n        //\t\t\treturn false;\r\n        //\t\t}\r\n        //现只针对windows处理，其它系统暂无该情况，如有，继续在此添加\r\n        if (agent.indexOf(\"windows\") >= 0) {\r\n            return true;\r\n        }\r\n    }\r\n    //获取页面缩放比例\r\n    \t_getDevicePixelRatio() {\r\n    \t\tlet t = this;\r\n    \t}\r\n    //监听方法兼容写法\r\n    _addHandler(element, type, handler) {\r\n        if (element.addEventListener) {\r\n            element.addEventListener(type, handler, false);\r\n        } else if (element.attachEvent) {\r\n            element.attachEvent(\"on\" + type, handler);\r\n        } else {\r\n            element[\"on\" + type] = handler;\r\n        }\r\n    }\r\n    //校正浏览器缩放比例\r\n    _correct() {\r\n        let t = this;\r\n        //页面devicePixelRatio（设备像素比例）变化后，计算页面body标签zoom修改其大小，来抵消devicePixelRatio带来的变化。\r\n        document.getElementsByTagName('body')[0].style.zoom = 1 / window.devicePixelRatio;\r\n    }\r\n    //监听页面缩放\r\n    _watch() {\r\n        let t = this;\r\n        t._addHandler(window, 'resize', function() { //注意这个方法是解决全局有两个window.resize\r\n            //重新校正\r\n            t._correct()\r\n        })\r\n    }\r\n    //初始化页面比例\r\n    init() {\r\n        let t = this;\r\n        if (t._getSystem()) { //判断设备，目前只在windows系统下校正浏览器缩放比例\r\n            //初始化页面校正浏览器缩放比例\r\n            t._correct();\r\n            //开启监听页面缩放\r\n            t._watch();\r\n        }\r\n    }\r\n}\r\nexport default DevicePixelRatio;"],"mappings":"AAAA,MAAMA,gBAAN,CAAuB;EACnBC,WAAW,GAAG,CACV;EACH,CAHkB,CAInB;;;EACAC,UAAU,GAAG;IACT,IAAIC,IAAI,GAAG,KAAX;IACA,IAAIC,KAAK,GAAGC,SAAS,CAACC,SAAV,CAAoBC,WAApB,EAAZ,CAFS,CAGT;IACA;IACA;IACA;IACA;;IACA,IAAIH,KAAK,CAACI,OAAN,CAAc,SAAd,KAA4B,CAAhC,EAAmC;MAC/B,OAAO,IAAP;IACH;EACJ,CAhBkB,CAiBnB;;;EACCC,oBAAoB,GAAG;IACtB,IAAIC,CAAC,GAAG,IAAR;EACA,CApBiB,CAqBnB;;;EACAC,WAAW,CAACC,OAAD,EAAUC,IAAV,EAAgBC,OAAhB,EAAyB;IAChC,IAAIF,OAAO,CAACG,gBAAZ,EAA8B;MAC1BH,OAAO,CAACG,gBAAR,CAAyBF,IAAzB,EAA+BC,OAA/B,EAAwC,KAAxC;IACH,CAFD,MAEO,IAAIF,OAAO,CAACI,WAAZ,EAAyB;MAC5BJ,OAAO,CAACI,WAAR,CAAoB,OAAOH,IAA3B,EAAiCC,OAAjC;IACH,CAFM,MAEA;MACHF,OAAO,CAAC,OAAOC,IAAR,CAAP,GAAuBC,OAAvB;IACH;EACJ,CA9BkB,CA+BnB;;;EACAG,QAAQ,GAAG;IACP,IAAIP,CAAC,GAAG,IAAR,CADO,CAEP;;IACAQ,QAAQ,CAACC,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,EAAyCC,KAAzC,CAA+CC,IAA/C,GAAsD,IAAIC,MAAM,CAACC,gBAAjE;EACH,CApCkB,CAqCnB;;;EACAC,MAAM,GAAG;IACL,IAAId,CAAC,GAAG,IAAR;;IACAA,CAAC,CAACC,WAAF,CAAcW,MAAd,EAAsB,QAAtB,EAAgC,YAAW;MAAE;MACzC;MACAZ,CAAC,CAACO,QAAF;IACH,CAHD;EAIH,CA5CkB,CA6CnB;;;EACAQ,IAAI,GAAG;IACH,IAAIf,CAAC,GAAG,IAAR;;IACA,IAAIA,CAAC,CAACR,UAAF,EAAJ,EAAoB;MAAE;MAClB;MACAQ,CAAC,CAACO,QAAF,GAFgB,CAGhB;;;MACAP,CAAC,CAACc,MAAF;IACH;EACJ;;AAtDkB;;AAwDvB,eAAexB,gBAAf"},"metadata":{},"sourceType":"module"}